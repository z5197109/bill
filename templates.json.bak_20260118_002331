[
  {
    "name": "taobao_order_detail",
    "priority": 100,
    "match": {
      "any": [
        "待发货",
        "订单信息",
        "百亿补贴官方精选"
      ],
      "regex_any": [
        "实付\\s*款"
      ],
      "min_score": 1
    },
    "scope": {
      "start_after_any": [
        "百亿补贴官方精选"
      ],
      "end_before_any": [
        "订单信息"
      ]
    },
    "extract": {
      "item": {
        "line": 0,
        "search_window": 2,
        "clean": true,
        "skip_contains": [
          "待发货",
          "号码保护",
          "订单信息",
          "商品总价",
          "运费",
          "店铺优惠",
          "平台优惠",
          "共减",
          "实付"
        ]
      },
      "amount": {
        "anchor_regex": "实付\\s*款",
        "offset": 0,
        "line": 0,
        "search_window": 1,
        "require_regex": "(¥|￥)\\s*\\d",
        "money_pick": "max_abs",
        "abs": true,
        "round": 2
      }
    }
  },
  
  {
    "name": "fallback_by_position",
    "priority": 0,
    "match": {
      "min_score": 0
    },
    "scope": {},
    "extract": {
      "item": {
        "line": [
          0,
          1,
          2,
          3
        ],
        "search_window": 2,
        "join_next": 1,
        "clean": true,
        "skip_contains": [
          "云闪付",
          "返回",
          "待发货",
          "号码保护",
          "订单信息",
          "¥",
          "￥"
        ]
      },
      "amount": {
        "line": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          10
        ],
        "search_window": 2,
        "require_regex": "(¥|￥)\\s*\\d",
        "money_pick": "max_abs",
        "abs": true,
        "round": 2
      }
    }
  },
  {
    "name": "alipay_bill_history_detail",
    "priority": 90,
    "match": {
      "min_score": 100,
      "any": [
        "交易成功",
        "支付奖励",
        "已领取",
        "积分"
      ],
      "all": [
        "账单详情"
      ]
    },
    "scope": {},
    "extract": {
      "item": {
        "search_window": 2,
        "join_next": 1,
        "clean": true,
        "skip_datetime_phone": true,
        "skip_contains": [
          "订单信息",
          "服务保障",
          "申请开票",
          "付款方式",
          "运费",
          "店铺优惠",
          "平台优惠",
          "共减",
          "实付款"
        ],
        "line": 16
      },
      "amount": {
        "search_window": 1,
        "join_next": 0,
        "clean": false,
        "skip_datetime_phone": false,
        "require_regex": "\\s*\\d",
        "line": 4,
        "money_pick": "max_abs",
        "abs": true,
        "round": 2
      }
    }
  },
  {
    "name": "alipay_success",
    "priority": 90,
    "match": {
      "min_score": 90,
      "any": [
        "支付成功",
        "付款方式",
        "支付有礼",
        "余利宝",
        "支付宝",
        "积分"
      ]
    },
    "scope": {},
    "extract": {
      "item": {
        "search_window": 0,
        "join_next": 0,
        "clean": true,
        "skip_datetime_phone": true,
        "skip_contains": [
          "订单信息",
          "服务保障",
          "申请开票",
          "付款方式",
          "运费",
          "店铺优惠",
          "平台优惠",
          "共减",
          "实付款"
        ],
        "line": 6
      },
      "amount": {
        "search_window": 0,
        "join_next": 0,
        "clean": false,
        "skip_datetime_phone": false,
        "require_regex": "(¥|￥)\\s*\\d",
        "line": 5,
        "money_pick": "max_abs",
        "abs": true,
        "round": 2
      }
    }
  }
]